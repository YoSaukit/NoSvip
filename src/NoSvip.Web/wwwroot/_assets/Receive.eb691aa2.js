let e=document.createElement("style");e.innerHTML="",document.head.appendChild(e);import{b as o,r as n,o as s,d as a,c as r,e as t,t as i,F as c,a as l}from"./index.715691a1.js";import{e as m,s as d}from"./WebSocketManager.6ab963fb.js";import{P as u}from"./Peer.2ff333ca.js";var g={setup(){const e=a(),r=o(()=>e.params.rid),t=n(""),i=new u,c=e=>{i.connectPeer(e,!0)},l=e=>{t.value=e},g=e=>{i.signalingMessageCallback(e)};return s(()=>{m.on("onJoinedRoom",c),m.on("onSignalingMessage",g),i.on("onReceiveMessage",l)}),{roomId:r,sendMessage:()=>{i.sendData()},joinRoom:e=>{d.invoke("JoinRoom",e).catch((function(e){return console.error(e.toString())}))},message:t}}};g.render=function(e,o,n,s,a,m){return l(),r(c,null,[t("h1",null,"房间号: "+i(s.roomId)+" 接收端",1),t("button",{onClick:o[1]||(o[1]=e=>s.joinRoom(s.roomId))},"加入房间"),t("button",{onClick:o[2]||(o[2]=(...e)=>s.sendMessage(...e))},"发消息"),t("p",null,i(s.message),1)],64)},g.__file="src/views/Receive.vue";export default g;
