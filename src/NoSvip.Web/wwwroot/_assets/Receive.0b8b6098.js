let e=document.createElement("style");e.innerHTML="",document.head.appendChild(e);import{b as o,r as n,o as s,d as a,c as r,e as t,t as i,F as l,a as c}from"./index.0d9df475.js";import{e as d,s as m}from"./WebSocketManager.6ab963fb.js";import{P as u}from"./Peer.7b302455.js";var g={setup(){const e=a(),r=o(()=>e.params.rid),t=n(""),i=new u,l=e=>{i.connectPeer(e,!0)},c=e=>{t.value=e},g=e=>{i.signalingMessageCallback(e)};return s(()=>{d.on("onJoinedRoom",l),d.on("onSignalingMessage",g),i.on("onReceiveMessage",c)}),{roomId:r,sendMessage:()=>{i.sendData()},joinRoom:e=>{m.invoke("JoinRoom",e).catch((function(e){return console.error(e.toString())}))},message:t}}};g.render=function(e,o,n,s,a,d){return c(),r(l,null,[t("h1",null,"房间号: "+i(s.roomId)+" 接收端",1),t("button",{onClick:o[1]||(o[1]=e=>s.joinRoom(s.roomId))},"加入房间"),t("button",{onClick:o[2]||(o[2]=(...e)=>s.sendMessage(...e))},"发消息"),t("p",null,i(s.message),1)],64)},g.__file="src/views/Receive.vue";export default g;
